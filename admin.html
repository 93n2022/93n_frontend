<!DOCTYPE html>
<html>
  <head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/web3/1.7.4/web3.min.js"></script>
    <title>93N Admin Function</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
      * {
        margin: 0;
        padding: 0;
        font-size: large;
        font-family: tahoma;
      }
      input,
      button {
        width: 100%;
      }
    </style>
  </head>
  <body>
    <b>[Admin Balanace]</b> BUSD: <a id="lblBusdA"></a>| 93N:
    <a id="lbl93nA"></a><br />
    <b>[Exchange Balance]</b> BUSD: <a id="lblBusdE"></a>| 93N:
    <a id="lbl93nE"></a><br />
    <b>[Node Balance]</b> BUSD: <a id="lblBusdN"></a>| 93N:
    <a id="lbl93nN"></a> <br /><br />
    <p>BUSD:</p>
    <input id="txtBusd" /><br />
    <p>93N:</p>
    <input id="txt93n" /><br /><br />
    <button onclick="addL()">Add Liquidity</button><br /><br />
    <button>Remove Liquidity</button>
  </body>
  <script>
    CHAIN = 56;
    A = [
      '0x686BE080Cbad57A96F1616778767EA09a96146ed',
      '0xEAa78380E5a6cc865Ea92ad0407E00265791f63c',
      '0xe9e7CEA3DedcA5984780Bafc599bD69ADd087D56',
      '0x2d54dD6818E7da36Ce2a6755048A36c5De8D2921',
    ]; //721, 20, U, XC
    u0 = '[]';
    ua = 'uint256';
    u1 = { internalType: ua, name: '', type: ua };
    u2 = { internalType: ua + u0, name: '', type: ua + u0 };
    ub = 'address';
    u3 = { internalType: ub, name: '', type: ub };
    u4 = { internalType: ub + u0, name: '', type: ub + u0 };
    uc = 'string';
    u5 = { internalType: uc, name: '', type: uc };
    u6 = { internalType: uc + u0, name: '', type: uc + u0 };
    uf = 'function';
    un = 'nonpayable';
    uv = 'view';
    ubo = {
      inputs: [u3],
      name: 'balanceOf',
      outputs: [u1],
      stateMutability: uv,
      type: uf,
    };
    uap = {
      inputs: [u3, u1],
      name: 'approve',
      outputs: [],
      stateMutability: un,
      type: uf,
    };
    ual = {
      inputs: [u3, u3],
      name: 'allowance',
      outputs: [u1],
      stateMutability: uv,
      type: uf,
    };
    async function LB(c, a) {
      return (await c.methods.balanceOf(a).call()) / 1e18;
    }
    async function connect() {
      if (typeof ethereum != 'undefined') {
        web3 = new Web3(ethereum);
        acct = await ethereum.request({ method: 'eth_requestAccounts' });
        acct = acct[0];
        FA = { from: acct };
        if ((await web3.eth.net.getId()) != CHAIN) {
          await ethereum.request({
            method: 'wallet_switchEthereumChain',
            params: [{ chainId: '0x' + CHAIN.toString(16) }],
          });
        }
        contract = new web3.eth.Contract(
          [
            {
              inputs: [u2],
              name: 'merging',
              outputs: [],
              stateMutability: un,
              type: uf,
            },
            {
              anonymous: false,
              inputs: [
                {
                  indexed: true,
                  internalType: ub,
                  name: 'from',
                  type: ub,
                },
                {
                  indexed: true,
                  internalType: ub,
                  name: 'to',
                  type: ub,
                },
                {
                  indexed: false,
                  internalType: ua,
                  name: 'amount',
                  type: ua,
                },
                {
                  indexed: true,
                  internalType: ua,
                  name: 'status',
                  type: ua,
                },
              ],
              name: 'Payout',
              type: 'event',
            },
            {
              inputs: [u3, u1, u1],
              name: 'purchase',
              outputs: [],
              stateMutability: un,
              type: uf,
            },
            {
              inputs: [u1],
              name: 'renew',
              outputs: [],
              stateMutability: un,
              type: uf,
            },
            {
              inputs: [],
              name: 'withdraw',
              outputs: [],
              stateMutability: un,
              type: uf,
            },
            {
              inputs: [u3],
              name: 'getDownlines',
              outputs: [u4, u1, u1],
              stateMutability: uv,
              type: uf,
            },
            {
              inputs: [u3],
              name: 'getNodes',
              outputs: [u2, u2],
              stateMutability: uv,
              type: 'function',
            },
            {
              inputs: [u1],
              name: 'pack',
              outputs: [u1, u1, u1, u1, u3],
              stateMutability: uv,
              type: uf,
            },
          ],
          A[0]
        );
      }
      contract2 = new web3.eth.Contract([ubo, uap, ual], A[1]);
      contract3 = new web3.eth.Contract([ubo, uap, ual], A[2]);
      contract4 = new web3.eth.Contract(
        [
          {
            inputs: [u3, u3, u1, u1],
            name: 'AddLiqudity',
            outputs: [],
            stateMutability: 'nonpayable',
            type: 'function',
          },
          {
            inputs: [u3, u3, u1, u1],
            name: 'RemoveLiqudity',
            outputs: [],
            stateMutability: 'nonpayable',
            type: 'function',
          },
          {
            inputs: [u1],
            name: 'setFee',
            outputs: [],
            stateMutability: 'nonpayable',
            type: 'function',
          },
        ],
        A[3]
      );
      $('#lbl93nA').html(LB(contract2, acct));
      $('#lblBusdA').html(LB(contract3, acct));
      $('#lbl93nE').html(LB(contract2, A[3]));
      $('#lblBusdE').html(LB(contract3, A[3]));
      $('#lbl93nN').html(LB(contract2, A[0]));
      $('#lblBusdN').html(LB(contract3, A[0]));
    }
    connect();
  </script>
</html>
